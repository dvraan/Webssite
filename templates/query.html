{% extends 'base.html' %}

{% block content %}
<h1>{{ query.title }}</h1>
<div class="code-comparison">
    <div class="code-block">
        <h2>SQL</h2>
        <pre><code class="language-sql">{{ query.sql }}</code></pre>
    </div>
    <div class="code-block">
        <h2>DAX</h2>
        <pre><code class="language-dax">{{ query.dax }}</code></pre>
    </div>
</div>
<div class="code-comparison">
    <div class="code-block">
        <h2>Pandas</h2>
        <pre><code class="language-python">{{ query.pandas }}</code></pre>
    </div>
    <div class="output-block">
        <h2>Output</h2>
        <table class="output-table">
            {% for row in query.output %}
            <tr>
                {% for cell in row %}
                <td>{{ cell }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </table>
    </div>
</div>

{% if query.youtube_url and query.thumbnail %}
<div class="youtube-thumbnail">
    <a href="{{ query.youtube_url }}" target="_blank">
        <img src="{{ url_for('static', filename=query.thumbnail) }}" alt="YouTube Video">
    </a>
</div>
{% endif %}

<div class="navigation">
    {% if prev_query %}
        <a href="{{ url_for('query', query=prev_query) }}" class="btn btn-primary">Previous</a>
    {% endif %}
    {% if next_query %}
        <a href="{{ url_for('query', query=next_query) }}" class="btn btn-primary">Next</a>
    {% endif %}
</div>
{% endblock %}
